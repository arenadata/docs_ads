Настройка Процессора
=====================


Окно настройки Процессора открывается по двойному щелчку по Процессору в рабочей области либо при выборе опции "Configure" из контекстного меню Процессора. Диалоговое окно конфигурации имеет четыре вкладки, каждая из которых описана далее. После завершения настройки Процессора для применения изменений следует нажать кнопку "Apply"; для выхода из окна без сохранения -- кнопку "Cancel".

При запущенном Процессоре в его контекстном меню опция "Configure" меняется на "View Configuration", так как нельзя менять конфигурацию Процессора во время его работы. Для этого необходимо сначала остановить Процессор и дождаться завершения всех его активных задач.

.. important:: Ввод определенных символов не поддерживается и автоматически отфильтровывается при вводе. Следующие символы и любые непарные суррогатные коды Unicode не сохраняются ни в одной конфигурации:

  :: 
  
   [#x0], [#x1], [#x2], [#x3], [#x4], [#x5], [#x6], [#x7], [#x8], [#xB], [#xC], [#xE], [#xF], [#x10], [#x11], [#x12], [#x13], [#x14], [#x15], [#x16], [#x17], [#x18], [#x19], [#x1A], [#x1B], [#x1C], [#x1D], [#x1E], [#x1F], [#xFFFE], [#xFFFF]


Вкладка SETTINGS
-----------------

При обращении к диалоговому окну настроек Процессора, оно открывается на первой вкладке "SETTINGS" (:numref:`Рис.%s.<ADS_UserNIFI_Config_SETTINGS>`).


.. _ADS_UserNIFI_Config_SETTINGS:

.. figure:: ../imgs/ADS_UserNIFI_Config_SETTINGS.*
   :align: center

   Вкладка SETTINGS


Вкладка содержит несколько элементов конфигурации. В поле "Name" у DFM есть возможность изменить имя Процессора. По умолчанию оно совпадает с типом. Рядом с полем имени располагается флажок "Enabled", указывающий статус Процессора. При добавлении Процессора на рабочую область он активируется, и если его отключить, дальнейший запуск уже невозможен. Отключенное состояние используется для указания того, что, например, при запуске группы Процессоров данный (отключенный) Процессор следует исключить.

Ниже отображается уникальный идентификатор Процессора в поле "Id", его тип в поле "Type" и NAR в поле "Bundle". Данные значения не могут быть изменены.

Далее находятся поля "Penalty Duration" и "Yield Duration". Во время обычного процесса обработки потока данных (FlowFile) может произойти событие, указывающее, что данные могут быть обработаны не в данный момент, а позднее. В таком случае Процессор может "оштрафовать" FlowFile сроком ожидания, что предотвращает обработку данных потока в течение некоторого периода времени. Например, если Процессор должен передать данные удаленному сервису, но у сервиса уже есть одноименный файл. В "Penalty Duration" DFM указывает срок ожидания FlowFile (по умолчанию *30 секунд*).

Аналогичным образом Процессор может определить, что существует ситуация, при которой он больше не может выполнять действия независимо от обрабатываемых данных. Например, если Процессор должен отправить данные в удаленный сервис, но сервис не отвечает, Процессор при этом не может добиться какого-либо прогресса. В результате Процессор должен "уступить", а это отодвигает запланированный запуск Процессора на некоторый период времени, который задается в поле "Yield Duration" (значение по умолчанию *1 секунда*).

Последний настраиваемый параметр в левой части вкладки это "Bulletin Level". Всякий раз, когда Процессор записывает данные в свой журнал, он также создает бюллетень. В параметре указывается самый низкий уровень бюллетеня. По умолчанию установлено значение *WARN*, означающее, что в пользовательском интерфейсе отображаются все бюллетени с предупреждениями и ошибками.









