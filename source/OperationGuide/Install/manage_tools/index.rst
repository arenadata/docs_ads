Инструменты управления
======================

В **ADS** предусмотрено 2 вида операций:

* `Операции на уровне кластера`_ -- предполагают выполнение операций последовательно над всеми сервисами;

* `Операции на уровне сервиса`_ -- предполагают выполнение операций над отдельным сервисом.
 

Операции на уровне кластера
---------------------------

Запуск и остановка **ADS** -- существует возможность последовательного запуска и остановки всех сервисов кластера *ADS* через **ADCM**. Для этого необходимо открыть в **ADCM** кластер *ADS* и нажать кнопку *Start* или *Stop* в зависимости от требуемой работы с кластером (:numref:`Рис.%s <cluster_run>`).

.. _cluster_run:

.. figure:: ../../imgs/cluster_run.png
   :align: center

   Операции на уровне кластера


Операции на уровне сервиса
---------------------------

Для каждого из сервисов доступна возможность проверки его работоспособности, а также управления им независимо от остальных. Например, проверка работоспособности сервиса *Kafka* представляет собой создание тестовых топиков и проверку их доступности на каждом из хостов *BROKER*. А проверка работоспособности сервиса *Zookeeper* представляет собой подключение к кворуму *Zookeeper*, создание в нем тестовой *znode* и проверку доступности созданной *znode* каждому из хостов кворума.

Проверка состояний сервисов и вывод результатов действий над ними осуществляется по единому алгоритму, разобранному на примере сервиса  *Zookeeper*:

1. В ADCM перейти в кластер *ADS*. На вкладке "Services" для сервиса *Zookeeper* в поле "Actions" нажать на пиктограмму и выбрать действие *Check* (:numref:`Рис.%s <service_actions>`).

.. _service_actions:

.. figure:: ../../imgs/service_actions.png
   :align: center

   Запуск проверки состояния сервиса *Zookeeper*


2. Открыть вкладку "JOBS" (:numref:`Рис.%s <ads_check>`).

.. _ads_check:

.. figure:: ../../imgs/ads_check.png
   :align: center

   Вкладка "JOBS"


3. Выбрать последнее действие над кластером *ADS* и в открывшемся окне проверить результаты (:numref:`Рис.%s <zk_status_check>`).

.. _zk_status_check:

.. figure:: ../../imgs/zk_status_check.png
   :align: center

   Проверка состояния сервиса *Zookeeper*



Запуск и остановка сервисов
-----------------------------

Для каждого из сервисов есть возможность управления им независимо от остальных, выполняя такие операции как *Stop*, *Start*, *Restart*.

Например, чтобы перезапустить все компоненты сервиса *Kafka*, необходимо в **ADCM** перейти в кластер *ADS*, на вкладке "Services" для сервиса *Kafka* в поле "Actions" нажать на пиктограмму и выбрать действие *Restart*.


