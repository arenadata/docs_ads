Release Notes
==============

Arenadata Streaming 1.4.11
---------------------------

В документе представлены официальные версии продуктов Apache в версии **ADS 1.4.11**, описаны новые функциональности компонентов и известные проблемы.


Состав и версии сервисов
--------------------------

В таблице приведен состав и версии компонентов, входящих в **ADS 1.4.11**.


.. csv-table:: Состав и версии сервисов
   :header: "№ пп.", "Сервис", "Версия"
   :widths: 10, 45, 45

   "1", "Apache Kafka", "2.2.0"
   "2", "Apache Zookeeper", "3.4.14"
   "3", "Apache Nifi", "1.9.1"
   "4", "Apache Nifi-Registry", "0.3.0"
   "5", "Schema-Registry", "5.2.1"
   "6", "Kafka REST Proxy", "5.2.1"
   "7", "KSQL", "5.2.1"
   "8", "Kafka-Manager", "1.3.3"
   "9", "Monitoring Clients", "1.2"


Новые функции
---------------

В **ADS 1.4.11** добавлены новые функции:

+ Операция обновления кластера;

+ Операции добавления/выведения хоста из работающего кластера *Kafka*;

+ Операции добавления/выведения хоста из работающего кластера *Nifi*;

+ Операции добавления/выведения хоста из работающего кластера *Zookeeper*;

+ Операция подготовки хостов *Preinstall* непосредственно к установке кластера;

+ Возможность экспорта/импорта строки подключения к сервису *Zookeeper* для совместного использования одного экземпляра сервиса в разных кластерах;

+ Возможность offline инсталляции;

+ Операции *Restart* и *Check* -- проверка работоспособности сервиса *Nifi*;

+ Интеграция сервисов *Nifi* и *Nifi-Registry*;

+ Сбор и автоматическая отправка метрик *Nifi* в *Monitoring* кластер;

+ Добавлен *dashboard* в *Grafana* для метрик сервиса *Nifi*;
  
+ Возможность выбора протокола отправки метрик для сервиса *Monitoring Clients*;

+ Настройки *ulimits* для сервиса *Kafka*.


Измененные функции
-------------------

В **ADS 1.4.11** внесены изменения:

+ После инсталляции кластера автоматически заускаются все сервисы;

+ *Kafka-manager* вынесен из компонентов сервиса *Kafka*, является самостоятельным сервисом;

+ *Schema-Registry* вынесен из компонентов сервиса *Kafka*, является самостоятельным сервисом;

+ Компонент *JMX metric Collector* является необязательным компонентом сервиса *Monitoring Clients*; 

+ При вызове действия *Install* сервиса *Nifi* появляется выпадающий список действий, которые можно произвести с системными настройками ОС;

+ Изменены настройки *ulimits* для сервиса *Nifi*;

+ Изменен основной репозиторий с пакетами. Добавлен пакет ``nifi-toolkit-1.9.1``.


Решенные проблемы
--------------------

В **ADS 1.4.11** решены проблемы:

+ В ссылках на UI сервисов *ip адрес* изменен на *hostname*;

+ Использование настроек *rest_jmx_port* и *schema_registry_jmx_port*, введенных в соответствующие секции конфигов сервисов *Schema-Registry* и *Kafka REST Proxy*, вместо значений по умолчанию;

+ Offline инсталляция запускается в случае отсутсвия необходимых импортов кластера ET.
