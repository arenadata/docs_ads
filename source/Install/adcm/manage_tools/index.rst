Инструменты управления
======================

В **ADS** 2 вида операций;

* Операции на уровне кластера. Предполагает выполнение операций последовательно над всеми сервисами;

* Операции на уровне сервиса. Предполагает выполнение операций над отдельным сервисом.

Операции на уровне кластера
---------------------------

Запуск и остановка ADS
^^^^^^^^^^^^^^^^^^^^^^^^

Существует возможность запуска и остановки всех сервисов кластера *ads* через **ADCM**:

1. Открыть в ADCM кластер *adb* и нажать на соответствующую кнопкули *Start, **Stop*, *Restart* для остановки кластера (:numref:`Рис.%s <img_43>`).

.. _img_43:

.. figure:: ../../images/img_43.png
   :align: center

   Запуск и остановка кластера


2. Подтвердить действие в открывшемся диалоговом окне (:numref:`Рис.%s <img_44>`).

.. _img_44:

.. figure:: ../../images/img_44.png
   :align: center

   Запрос на подтверждение действия


В результате того или иного действия статус кластера не меняется на *started* или *stopped*, а остается *initialized*.
Это связано с опасениями инвалидации статуса в случаях, когда кластер **ADB** управляется через консоль в
обход **ADCM**.

Проверка состояния сервисов
---------------------------

Проверка состояния сервиса Zookeeper
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Проверка работоспособности сервиса *Zookeeper* представляет собой подключение к кворуму *Zookeeper*, создание в нем тестовой *znode*  и проверку доступности созданной *znode* каждому из хостов кворума.

Для проверки результатов действий над сервисом *Zookeeper* необходимо:

1. Перейти в кластер *ads* в ADCM, на вкладке "Services" для сервисе *Zookeeper* в поле "Actions" нажать на пиктограмму и выбрать действие "Check" (:numref:`Рис.%s <img_39>`).

.. _img_39:

.. figure:: ../../images/img_39.png
   :align: center

   Запуск проверки состояния сервиса *Zookeeper*


2. Открыть вкладку "JOBS" (:numref:`Рис.%s <img_41>`).

.. _img_41:

.. figure:: ../../images/img_41.png
   :align: center

   Вкладка "JOBS"


3. Выбрать последнее действие над кластером *ads* и в открывшемся окне проверить результаты (:numref:`Рис.%s <img_42>`).

.. _img_42:

.. figure:: ../../images/img_42.png
   :align: center

   Проверка состояния сервиса *Zookeeper*



Запуск и остановка ADS
----------------------

Существует возможность запуска и остановки кластера **ADS** не только посредством консоли, но и через **ADCM**:

1. Открыть в ADCM кластер *adb* и перейти на вкладку "Services". В поле "Actions" для сервиса *adb* выбрать *Start*
   для запуска или *Stop* для остановки кластера (:numref:`Рис.%s <img_43>`).

.. _img_43:

.. figure:: ../../images/img_43.png
   :align: center

   Запуск и остановка кластера


2. Подтвердить действие в открывшемся диалоговом окне (:numref:`Рис.%s <img_44>`).

.. _img_44:

.. figure:: ../../images/img_44.png
   :align: center

   Запрос на подтверждение действия


В результате того или иного действия статус кластера не меняется на *started* или *stopped*, а остается *initialized*.
Это связано с опасениями инвалидации статуса в случаях, когда кластер **ADB** управляется через консоль в
обход **ADCM**.
